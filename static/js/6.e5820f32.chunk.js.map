{"version":3,"sources":["pages/DashboarLayout/Contents/Listing/index.jsx"],"names":["ContentListing","props","onCollectionUpdate","querySnapshot","contents","Promise","resolve","reject","forEach","doc","push","key","id","data","setState","ref","firebase","firestore","collection","unsubscribe","state","isLoading","this","onSnapshot","console","log","columns","name","options","filter","customBodyRender","value","className","en","style","maxWidth","src","controls","paddingTop","to","map","content","index","contentData","latinName","indonesian","english","description","audio","borderRadius","paddingBottom","title","elevation","selectableRows","Component"],"mappings":"iOAMMA,G,yDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IASRC,mBAAqB,SAACC,GACpB,IAAMC,EAAW,GACjB,IAAIC,SAAQ,SAACC,EAASC,GACpBJ,EAAcK,SAAQ,SAACC,GAErBL,EAASM,KAAT,aACEC,IAAKF,EAAIG,IACNH,EAAII,eAMb,EAAKC,SAAS,CACZV,cAtBF,EAAKW,IAAMC,IAASC,YAAYC,WAAW,YAC3C,EAAKC,YAAc,KACnB,EAAKC,MAAQ,CACXhB,SAAU,GACViB,WAAW,GANI,E,iEA6BjBC,KAAKH,YAAcG,KAAKP,IAAIQ,WAAWD,KAAKpB,sB,+BAI5CsB,QAAQC,IAAIH,KAAKF,MAAMhB,UACvB,IAAMsB,EAAU,CACd,CACEC,KAAM,KAER,CACEA,KAAM,cAER,CACEA,KAAM,OACNC,QAAS,CACPC,QAAQ,EACRC,iBAAkB,SAACC,GACjB,OACE,kBAAC,WAAD,KACE,uBAAGC,UAAU,gBAAb,cADF,IAC8CD,EAAMnB,GAClD,uBAAGoB,UAAU,qBAAb,YAFF,IAEiDD,EAAME,OAM/D,CACEN,KAAM,cACNC,QAAS,CACPC,QAAQ,EACRC,iBAAkB,SAACC,GACjB,OACE,kBAAC,WAAD,KACE,uBAAGC,UAAU,gBAAb,cACA,2BAAID,EAAMnB,IACV,uBAAGoB,UAAU,gBAAb,WACA,2BAAID,EAAME,QAMpB,CACEN,KAAM,QACNC,QAAS,CACPC,QAAQ,EACRC,iBAAkB,SAACC,GACjB,OACE,kBAAC,WAAD,KACE,uBAAGC,UAAU,gBAAb,cACA,2BAAOE,MAAO,CAAEC,SAAU,iBAAmBC,IAAKL,EAAMnB,GAAIyB,UAAQ,IACpE,uBAAGL,UAAU,qBAAb,WACA,2BAAOI,IAAKL,EAAME,GAAII,UAAQ,QAMxC,CACEV,KAAM,SACNC,QAAS,CACPC,QAAQ,EACRC,iBAAkB,SAACC,GACjB,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAMC,UAAU,sCAAsCE,MAAO,CAAEI,WAAY,QAAUC,GAAE,0BAAqBR,IAAS,uBAAGC,UAAU,+BAOxI5B,EAAWkB,KAAKF,MAAMhB,SACtBS,EAAO,GAYb,OAXAT,EAASoC,KAAI,SAACC,EAASC,GACrB,IAAIC,EAAc,GACdD,EACFD,EAAQG,UACR,CAAEhC,GAAI6B,EAAQI,WAAWlB,KAAMM,GAAIQ,EAAQK,QAAQnB,MACnD,CAAEf,GAAI6B,EAAQI,WAAWE,YAAad,GAAIQ,EAAQK,QAAQC,aAC1D,CAAEnC,GAAI6B,EAAQI,WAAWG,MAAOf,GAAIQ,EAAQK,QAAQE,OACpDP,EAAQ9B,KAEVE,EAAKH,KAAKiC,MAGV,kBAAC,WAAD,KACE,yBAAKX,UAAU,kBACb,sDAEF,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,eACb,2CACA,yBAAKA,UAAU,sBACb,kBAAC,IAAD,CAAMO,GAAG,kBAAkBP,UAAU,kBAAkBE,MAAO,CAAEe,aAAc,iBAAkBX,WAAY,MAAOY,cAAe,QAAS,uBAAGlB,UAAU,mBAAxJ,mBAGJ,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACEmB,MAAO,gBACPtC,KAAMA,EACNa,QAASA,EACTE,QAAS,CACPwB,UAAW,EACXC,gBAAgB,e,GAzITC,cAsJdtD","file":"static/js/6.e5820f32.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MUIDataTable from 'mui-datatables';\r\nimport firebase from '../../../../services/firebase';\r\nimport Spinner from '../../../../components/Spinner';\r\n\r\nclass ContentListing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ref = firebase.firestore().collection('contents');\r\n    this.unsubscribe = null;\r\n    this.state = {\r\n      contents: [],\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  onCollectionUpdate = (querySnapshot) => {\r\n    const contents = [];\r\n    new Promise((resolve, reject) => {\r\n      querySnapshot.forEach((doc) => {\r\n        // console.log(doc.data());\r\n        contents.push({\r\n          key: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n\r\n    })\r\n    // console.log(querySnapshot);\r\n    this.setState({\r\n      contents,\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.contents);\r\n    const columns = [\r\n      {\r\n        name: \"#\"\r\n      },\r\n      {\r\n        name: \"Latin Name\"\r\n      },\r\n      {\r\n        name: \"Name\",\r\n        options: {\r\n          filter: false,\r\n          customBodyRender: (value) => {\r\n            return (\r\n              <Fragment>\r\n                <b className=\"d-block pb-1\">Indonesiam</b> {value.id}\r\n                <b className=\"d-block pb-1 mt-1\">English </b> {value.en}\r\n              </Fragment>\r\n            )\r\n          }\r\n        }\r\n      },\r\n      {\r\n        name: \"Description\",\r\n        options: {\r\n          filter: false,\r\n          customBodyRender: (value) => {\r\n            return (\r\n              <Fragment>\r\n                <b className=\"d-block pb-1\">Indonesian</b>\r\n                <p>{value.id}</p>\r\n                <b className=\"d-block pb-1\">English</b>\r\n                <p>{value.en}</p>\r\n              </Fragment>\r\n            )\r\n          }\r\n        }\r\n      },\r\n      {\r\n        name: \"Audio\",\r\n        options: {\r\n          filter: false,\r\n          customBodyRender: (value) => {\r\n            return (\r\n              <Fragment>\r\n                <b className=\"d-block pb-1\">Indonesian</b>\r\n                <audio style={{ maxWidth: '5% !important' }} src={value.id} controls></audio>\r\n                <b className=\"d-block pb-1 mt-1\">English</b>\r\n                <audio src={value.en} controls></audio>\r\n              </Fragment>\r\n            )\r\n          }\r\n        }\r\n      },\r\n      {\r\n        name: \"Action\",\r\n        options: {\r\n          filter: false,\r\n          customBodyRender: (value) => {\r\n            return (\r\n              <Fragment>\r\n                <Link className=\"btn btn-primary aligns-items-center\" style={{ paddingTop: '14px' }} to={`/content/update/${value}`}><i className=\"fa fas fa-fw fa-edit\"></i></Link>\r\n              </Fragment>\r\n            )\r\n          }\r\n        }\r\n      }\r\n    ];\r\n    const contents = this.state.contents;\r\n    const data = [];\r\n    contents.map((content, index) => {\r\n      let contentData = [\r\n        ++index,\r\n        content.latinName,\r\n        { id: content.indonesian.name, en: content.english.name },\r\n        { id: content.indonesian.description, en: content.english.description },\r\n        { id: content.indonesian.audio, en: content.english.audio },\r\n        content.key,\r\n      ];\r\n      data.push(contentData);\r\n    });\r\n    return (\r\n      <Fragment>\r\n        <div className=\"section-header\">\r\n          <h1>Manage Classes/Labels</h1>\r\n        </div>\r\n        <div className=\"section-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h4>Manage Data</h4>\r\n                  <div className=\"card-header-action\">\r\n                    <Link to=\"/content/create\" className=\"btn btn-primary\" style={{ borderRadius: '0px !important', paddingTop: '5px', paddingBottom: '5px' }}><i className=\"fa fas fa-plus\"></i> Add New Data</Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <MUIDataTable\r\n                    title={\"Contents List\"}\r\n                    data={data}\r\n                    columns={columns}\r\n                    options={{\r\n                      elevation: 0,\r\n                      selectableRows: false // <===== will turn off checkboxes in rows\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContentListing;"],"sourceRoot":""}