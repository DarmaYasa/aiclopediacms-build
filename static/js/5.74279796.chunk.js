(this["webpackJsonpaiclopedia-admin"]=this["webpackJsonpaiclopedia-admin"]||[]).push([[5],{521:function(e,a,t){"use strict";t.r(a);var n=t(26),s=t(130),i=t(48),l=t(49),r=t(51),o=t(50),c=t(0),d=t.n(c),m=t(32),u=t(201),p=t.n(u),b=function(e){Object(r.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(i.a)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={label:"",latinName:"",englishName:"",englishDescription:"",englishAudio:"",indonesianName:"",indonesianDescription:"",indonesianAudio:"",formSubmited:!1,isLoading:{id:!1,en:!1},progress:{id:0,en:0}},e.getData=function(){var a=e.props.match.params.id;console.log(a)},e.handleFormChange=function(a){e.setState(Object(s.a)({},a.target.name,a.target.value))},e.handleUploadStart=function(a){return function(){switch(a){case"id":e.setState((function(e){var a=e.isLoading,t=e.progress;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{id:!0}),progress:Object(n.a)(Object(n.a)({},t),{},{id:0})}}));break;case"en":e.setState((function(e){var a=e.isLoading,t=e.progress;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{en:!0}),progress:Object(n.a)(Object(n.a)({},t),{},{en:0})}}))}}},e.handleProgress=function(a){return function(t){switch(a){case"id":e.setState((function(e){var a=e.progress;return{progress:Object(n.a)(Object(n.a)({},a),{},{id:a.id})}}));break;case"en":e.setState((function(e){var a=e.progress;return{progress:Object(n.a)(Object(n.a)({},a),{},{en:a.en})}}))}}},e.handleUploadError=function(a){return function(t){switch(a){case"id":e.setState((function(e){var a=e.isLoading;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{id:!1})}}));break;case"en":e.setState((function(e){var a=e.isLoading;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{en:!1})}}))}console.error(a,t)}},e.handleUploadSuccess=function(a){return function(t){switch(a){case"id":e.setState((function(e){var a=e.isLoading,t=e.progress;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{id:!1}),progress:Object(n.a)(Object(n.a)({},t),{},{id:100})}})),m.a.storage().ref("audios").child(t).getDownloadURL().then((function(a){return e.setState({indonesianAudio:a})}));break;case"en":e.setState((function(e){var a=e.isLoading,t=e.progress;return{isLoading:Object(n.a)(Object(n.a)({},a),{},{en:!1}),progress:Object(n.a)(Object(n.a)({},t),{},{en:100})}})),m.a.storage().ref("audios").child(t).getDownloadURL().then((function(a){return e.setState({englishAudio:a})}))}}},e.handleFormSubmit=function(){console.log(e.state),e.setState({formSubmited:!0});var a=e.state,t=a.label,n=a.latinName,s=a.englishName,i=a.englishDescription,l=a.englishAudio,r=a.indonesianName,o=a.indonesianAudio,c=a.indonesianDescription;m.a.firestore().collection("contents").add({label:t,latinName:n,indonesian:{name:r,description:c,audio:o},english:{name:s,description:i,audio:l}}).then((function(a){console.log(a),e.props.history.push("/content")})).catch((function(a){e.setState({formSubmited:!1}),console.log(a)}))},e}return Object(l.a)(t,[{key:"render",value:function(){return d.a.createElement(c.Fragment,null,d.a.createElement("div",{className:"section-header"},d.a.createElement("h1",null,"Manage Contents")),d.a.createElement("div",{className:"section-body"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"card"},d.a.createElement("div",{className:"card-header"},d.a.createElement("h4",null,"Create Data")),d.a.createElement("div",{className:"card-body"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",null,"Class/Label"),d.a.createElement("select",{name:"label",id:"",className:"custom-select",onChange:this.handleFormChange,required:!0},d.a.createElement("option",{value:"",defaultValue:!0,disabled:!0},"-Choose One-"),d.a.createElement("option",{value:"komodo_dragon"},"Komodo Dragon"),d.a.createElement("option",{value:"bird_of_paradise"},"Bird Of Paradise"),d.a.createElement("option",{value:"maleo"},"Maleo"),d.a.createElement("option",{value:"bali_myna"},"Bali Myna"),d.a.createElement("option",{value:"proboscis_monkey"},"Proboscis Monkey"))),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"latinName"},"Latin Name"),d.a.createElement("input",{type:"text",name:"latinName",className:"form-control",onChange:this.handleFormChange})),d.a.createElement("div",{className:"form-group"},d.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},d.a.createElement("label",null,"Name"),d.a.createElement("ul",{className:"nav nav-pills mb-3",id:"name-tab",role:"tablist"},d.a.createElement("li",{className:"nav-item"},d.a.createElement("a",{className:"nav-link active",id:"name-en-tab","data-toggle":"pill",href:"#name-en",role:"tab","aria-controls":"name-en","aria-selected":"true"},"English")),d.a.createElement("li",{className:"nav-item"},d.a.createElement("a",{className:"nav-link",id:"name-in-tab","data-toggle":"pill",href:"#name-in",role:"tab","aria-controls":"name-in","aria-selected":"false"},"Indonesia")))),d.a.createElement("div",{className:"tab-content",id:"name-tabContent"},d.a.createElement("div",{className:"tab-pane fade show active",id:"name-en",role:"tabpanel","aria-labelledby":"name-en-tab"},d.a.createElement("input",{type:"text",name:"englishName",className:"form-control",onChange:this.handleFormChange})),d.a.createElement("div",{className:"tab-pane fade",id:"name-in",role:"tabpanel","aria-labelledby":"name-in-tab"},d.a.createElement("input",{type:"text",name:"indonesianName",className:"form-control",onChange:this.handleFormChange})))),d.a.createElement("div",{className:"form-group"},d.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},d.a.createElement("label",null,"Description"),d.a.createElement("ul",{className:"nav nav-pills mb-3",id:"desc-tab",role:"tablist"},d.a.createElement("li",{className:"nav-item"},d.a.createElement("a",{className:"nav-link active",id:"desc-en-tab","data-toggle":"pill",href:"#desc-en",role:"tab","aria-controls":"desc-en","aria-selected":"true"},"English")),d.a.createElement("li",{className:"nav-item"},d.a.createElement("a",{className:"nav-link",id:"desc-in-tab","data-toggle":"pill",href:"#desc-in",role:"tab","aria-controls":"desc-in","aria-selected":"false"},"Indonesia")))),d.a.createElement("div",{className:"tab-content",id:"desc-tabContent"},d.a.createElement("div",{className:"tab-pane fade show active",id:"desc-en",role:"tabpanel","aria-labelledby":"desc-en-tab"},d.a.createElement("textarea",{name:"englishDescription",className:"form-control",onChange:this.handleFormChange,style:{minHeight:"150px"}})),d.a.createElement("div",{className:"tab-pane fade",id:"desc-in",role:"tabpanel","aria-labelledby":"desc-in-tab"},d.a.createElement("textarea",{name:"indonesianDescription",className:"form-control",onChange:this.handleFormChange,style:{minHeight:"150px"}})))),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",null,"Audio"),d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("div",{className:"input-group-prepend mr-2"},d.a.createElement("span",{className:"input-group-text",id:"basic-addon3"},"English")),d.a.createElement(p.a,{accept:"audio/*",className:"flex-grow-1",name:"englishAudio",randomizeFilename:!0,storageRef:m.a.storage().ref("audios"),onUploadStart:this.handleUploadStart("en"),onUploadError:this.handleUploadError("en"),onUploadSuccess:this.handleUploadSuccess("en"),onProgress:this.handleProgress("en")}),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("audio",{src:this.state.englishAudio,controls:!0}))),100===this.state.progress.en?d.a.createElement("span",null,"Upload Done!"):"",d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("div",{className:"input-group-prepend mr-2"},d.a.createElement("span",{className:"input-group-text",id:"basic-addon3"},"Indonesia")),d.a.createElement(p.a,{accept:"audio/*",className:"flex-grow-1",name:"indonesianAudio",randomizeFilename:!0,storageRef:m.a.storage().ref("audios"),onUploadStart:this.handleUploadStart("id"),onUploadError:this.handleUploadError("id"),onUploadSuccess:this.handleUploadSuccess("id"),onProgress:this.handleProgress("id")}),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("audio",{src:this.state.indonesianAudio,controls:!0}))),100===this.state.progress.id?d.a.createElement("span",null,"Upload Done!"):"")),d.a.createElement("div",{className:"card-footer text-right"},d.a.createElement("button",{className:"btn btn-primary ".concat(this.state.formSubmited?"btn-progress btn-disabled":""),type:"submit",onClick:this.handleFormSubmit},"Submit")))))))}}]),t}(c.Component);a.default=b}}]);
//# sourceMappingURL=5.74279796.chunk.js.map