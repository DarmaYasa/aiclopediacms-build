{"version":3,"sources":["pages/FullLayout/Login/index.jsx"],"names":["Login","state","email","password","loginFailed","handleFormChange","e","setState","target","name","value","handleSubmit","a","console","log","props","history","loginFirebase","catch","err","push","localStorage","getItem","this","user","className","src","alt","srcset","width","htmlFor","type","onChange","required","autoFocus","isLoading","onClick","class","Component","connect","isLogin","dispatch","data"],"mappings":"kPAMMA,E,4MAEJC,MAAQ,CACNC,MAAO,GACPC,SAAU,GACVC,aAAa,G,EAGfC,iBAAmB,SAACC,GAClB,EAAKC,SAAL,eACGD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAI9BC,a,sBAAe,gCAAAC,EAAA,+DACe,EAAKX,MAAzBC,EADK,EACLA,MAAOC,EADF,EACEA,SACfU,QAAQC,IAAI,EAAKC,MAAMC,SAFV,SAGK,EAAKD,MAAME,cAAc,CAAEf,QAAOC,aAAYe,OAAM,SAAAC,GAAG,OAAIA,KAHhE,QAID,IAJC,QAKXN,QAAQC,IAAI,kBACZ,EAAKC,MAAMC,QAAQI,KAAK,MAExB,EAAKb,SAAS,CACZJ,SAAU,GACVC,aAAa,IAVJ,2C,kEAgBYiB,aAAaC,QAAQ,c,+BAO9C,OADAT,QAAQC,IAAIS,KAAKR,MAAMS,MAErB,6BAASC,UAAU,WACjB,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,8FACb,yBAAKA,UAAU,eACb,yBAAKC,IAAI,GAAGC,IAAI,GAAGC,OAAO,GAAGC,MAAM,SAGnCN,KAAKtB,MAAMG,YACT,yBAAKqB,UAAU,sBAAf,eAES,GAEb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,eACb,sCAEF,yBAAKA,UAAU,aACb,6BACE,yBAAKA,UAAU,cACb,2BAAOK,QAAQ,SAAf,SACA,2BAAOC,KAAK,QAAQtB,KAAK,QAAQgB,UAAU,eAAeO,SAAUT,KAAKlB,iBAAkB4B,UAAQ,EAACC,WAAS,KAE/G,yBAAKT,UAAU,cACb,2BAAOK,QAAQ,YAAf,YACA,2BAAOC,KAAK,WAAWtB,KAAK,WAAWgB,UAAU,eAAeO,SAAUT,KAAKlB,iBAAkB4B,UAAQ,KAE3G,yBAAKR,UAAU,cAEXF,KAAKR,MAAMoB,UACT,4BAAQV,UAAU,iDAAlB,cACA,4BAAQA,UAAU,mCAAmCW,QAASb,KAAKZ,cAAnE,aAMZ,yBAAK0B,MAAM,iBAAX,2C,GA3EMC,aAgGLC,uBAVI,SAACtC,GAAD,MAAY,CAC7BuC,QAASvC,EAAMuC,QACfL,UAAWlC,EAAMkC,UACjBX,KAAMvB,EAAMuB,SAGQ,SAACiB,GAAD,MAAe,CACnCxB,cAAe,SAACyB,GAAD,OAAUD,EAASxB,YAAcyB,QAGnCH,CAAmCvC","file":"static/js/7.ace4c84b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport firebase from '../../../services/firebase';\r\nimport { connect } from 'react-redux';\r\nimport { actionChangeUser, loginFirebase } from '../../../services/redux/action';\r\n\r\nclass Login extends Component {\r\n\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    loginFailed: false,\r\n  }\r\n\r\n  handleFormChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    const { email, password } = this.state;\r\n    console.log(this.props.history);\r\n    const res = await this.props.loginFirebase({ email, password }).catch(err => err);\r\n    if (res === true) {\r\n      console.log('login berhasil')\r\n      this.props.history.push('/');\r\n    } else {\r\n      this.setState({\r\n        password: '',\r\n        loginFailed: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const dataLocalStorage = localStorage.getItem('userData');\r\n    // console.log('local', JSON.parse(dataLocalStorage));\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.props.user);\r\n    return (\r\n      <section className=\"section\">\r\n        <div className=\"container mt-5\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4\">\r\n              <div className=\"login-brand\">\r\n                <img src=\"\" alt=\"\" srcset=\"\" width=\"100\" />\r\n              </div>\r\n              {\r\n                this.state.loginFailed ?\r\n                  <div className=\"alert alert-danger\">\r\n                    Login Gagal\r\n                  </div> : ''\r\n              }\r\n              <div className=\"card card-primary\">\r\n                <div className=\"card-header\">\r\n                  <h4>Login</h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"email\">Email</label>\r\n                      <input type=\"email\" name=\"email\" className=\"form-control\" onChange={this.handleFormChange} required autoFocus />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"password\">Password</label>\r\n                      <input type=\"password\" name=\"password\" className=\"form-control\" onChange={this.handleFormChange} required />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      {\r\n                        this.props.isLoading ?\r\n                          <button className=\"btn btn-primary btn-block btn-lg btn-progress\">Loading...</button> :\r\n                          <button className=\"btn btn-primary btn-block btn-lg\" onClick={this.handleSubmit}>Login</button>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"simple-footer\">\r\n                Copyright &copy; AI Clopedia 2020\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst reduxState = (state) => ({\r\n  isLogin: state.isLogin,\r\n  isLoading: state.isLoading,\r\n  user: state.user,\r\n});\r\n\r\nconst reduxDispatch = (dispatch) => ({\r\n  loginFirebase: (data) => dispatch(loginFirebase(data)),\r\n});\r\n\r\nexport default connect(reduxState, reduxDispatch)(Login);"],"sourceRoot":""}